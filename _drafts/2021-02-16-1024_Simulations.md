---
layout: post
title:  "1024 Simulations"
date:   2021-02-16
categories: mocks
---

I am now going to make the switch to the 1024 simulations.


## Simulation

Ran 1024 simulations a while ago and checked their output.. see e.g.
https://ndrakos.github.io/blog/cosmo_sims/1024_Sims_Catalogs/


## Halo Finder

Already checked halo finder gave reasonable answer...

https://ndrakos.github.io/blog/cosmo_sims/Rockstar_Part_II/

## Merger Trees

Merger trees significantly slower at this resolution. I have been running on lou, since that's where I have all the outputs stored. However, lou only allows you to run jobs for 3 days, and has a limited number of CPUs you can request.




### Restarting trees
Need to restart trees..


"It is possible to restart the code if you know which snapshot and which stage the code died at (you may be able to find this information from the timing.log file in the output directory).  Both the gravitational_consistency and find_parents_and_cleanup programs accept an extra command line argument which is the snap number at which the code should resume processing."

Edit file in consistent-trees/do_merger_tree.pl to take extra command line argument...


### Parallelization

"The code automatically uses OpenMP if available.  If it doesn’t automatically use multiple cores (check using the “top” command if the code is using >100% cpu), you can set the OMP_NUM_THREADS environment variable to the number of cores to use.  Only the gravitational_consistency and find_parents_and_cleanup codes are parallelized."

select=1:ncpus=4:ompthreads=4


## Light Cone

Switch over to Pleaides (before running on mylaptop).

Length of time? Worth it to parallelize?
